PART
{

	// --- general parameters ---
	name = HeavyLES
	module = Part
	author = Orion

	// --- asset parameters ---
	mesh = model.mu
	rescaleFactor = 1.0

	// --- node definitions ---
	node_stack_bottom = 0.0, 0.169, 0.0, 0.0, -1.0, 0.0, 1

	// --- Sound FX definition ---


	sound_vent_medium = engage
	sound_rocket_hard = running
	sound_vent_soft = disengage
	sound_explosion_low = flameout
	sound_decoupler_fire = decouple

	// --- editor parameters ---
	TechRequired = landing
	entryCost = 3000
	cost = 800
	category = Utility
	subcategory = 0
	title = #HeavyLES_Part_title // #HeavyLES_Part_title = HGR Delux escape tower
	manufacturer = #HeavyLES_Part_manufacturer // #HeavyLES_Part_manufacturer = Home Grown Rocket Parts
	description = #HeavyLES_Part_description // #HeavyLES_Part_description = The Deluxe Escape System Utility is an over sized escape tower that can lift a larger portion of the rocket away from danger. It allows fairings to be built directly from it, allowing for a unique escape profile.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,0,0
	stackSymmetry = 1

	// --- standard part parameters ---
	mass = 1.0
	dragModelType = default
	maximum_drag = 0.3
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 15
	breakingTorque = 30
	breakingForce = 30
	maxTemp = 3900
	bulkheadProfiles = size1

	stagingIcon = SOLID_BOOSTER

	// --- solid booster parameters --- 6.75






	tags = #HeavyLES_Part_tags // #HeavyLES_Part_tags = hgr soy shenzhou aero )cap cargo cone contain drag fairing hollow inter nose payload protect rocket shroud stage (stor transport abort booster emergency explo ?les l.e.s malfunc ?rud safe solid surviv

	EFFECTS
	{

		running_closed
		{

			AUDIO
			{
				channel = Ship
				clip = sound_rocket_spurts
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 1.0 1.0
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/shockExhaust_red_small
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.25
				speed = 0.0 0.5
				speed = 1.0 1.2
			}
		}
		engage
		{

			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{

			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = LES
		runningEffectName = running_closed
		thrustVectorTransformName = thrustTransform
		exhaustDamage = False
		throttleLocked = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 800
		heatProduction = 400
		fxOffset = 0, 0, 0.25

		PROPELLANT
		{
			name = SolidFuel
			ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 360
			key = 1 320
		}
	}
	RESOURCE
	{
		name = SolidFuel
		amount = 30
		maxAmount = 60
	}
	MODULE
	{
		name = ModuleDecouple
		ejectionForce = 100
		explosiveNodeID = bottom
	}
	MODULE
	{
		name = ModuleProceduralFairing

		nSides = 32
		nArcs = 2
		TextureURL = Squad/Parts/Aero/fairings/fairings_diff
		CapTextureURL = Squad/Parts/Aero/fairings/fairingsCap
		TextureNormalURL = Squad/Parts/Aero/fairings/fairings_normals

		panelGrouping = 3
		pivot = 0,0.17,0
		axis = 0,-1,0

		baseRadius = 0.625
		maxRadius = 2
		capRadius = 0.3
		snapThreshold = 0.1

		xSectionHeightMin = 0.2
		xSectionHeightMax = 2

		edgeSlide = 0.15
		edgeWarp = 0.01
		noseTip = 0.6

		UnitAreaMass = 0.0175
		UnitAreaCost = 6
		nCollidersPerArc = 4
		fairingNode = bottom
	}
	MODULE
	{
		name = ModuleCargoBay
		DeployModuleIndex = 2
		closedPosition = 0
		lookupRadius = 0.75

		// nodeOuterAftID = bottom
		// nodeInnerAftID = top
	}
	MODULE
	{
		name = ModuleTestSubject
		useStaging = True
		useEvent = False
		useProgressForBodies = False
		usePrestigeForSit = False

		CONSTRAINT
		{
			type = SITUATION
			value = 28
			body = _Home
		}
		CONSTRAINT
		{
			type = SITUATION
			value = 0
			body = _NotHome
		}
		CONSTRAINT
		{
			type = REPEATABILITY
			value = ALWAYS
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 300000
			situationMask = 16
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = GT
			value = 10000
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 40000
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = GT
			value = 5000
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = LT
			value = 100000
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDE
			test = GT
			value = 0
			situationMask = 8
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 300
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 1200
			situationMask = 8
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 600
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 1500
			situationMask = 8
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEED
			test = GT
			value = 900
			situationMask = 8
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEED
			test = LT
			value = 2500
			situationMask = 8
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 2000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 4000
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 1000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 2000
			prestige = Significant
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = GT
			value = 500
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = ALTITUDEENV
			test = LT
			value = 1000
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 200
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 100
			prestige = Trivial
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 100
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 50
			prestige = Significant
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = LT
			value = 50
			prestige = Exceptional
		}
		CONSTRAINT
		{
			type = SPEEDENV
			test = GT
			value = 20
			prestige = Exceptional
		}
	}
	
	MODULE
	{
		name = ModulePartVariants
		baseVariant = White

		VARIANT
		{
			name = White
			displayName = #autoLOC_8007119
			themeName = White
			primaryColor = #ffffff
			secondaryColor = #ffffff

			TEXTURE
			{
				materialName = FairingIconShell
				mainTextureURL = Squad/Parts/Aero/fairings/fairings_diff
			}
			EXTRA_INFO
			{
				FairingsTextureURL = Squad/Parts/Aero/fairings/fairings_diff
				FairingsNormalURL = Squad/Parts/Aero/fairings/fairings_normals
			}
		}
		VARIANT
		{
			name = Grey
			displayName = #autoLOC_8007120
			themeName = BlackAndWhite
			themeName = BlackAndWhite
			primaryColor = #000000
			secondaryColor = #ffffff

			TEXTURE
			{
				materialName = FairingIconShell
				mainTextureURL = Squad/Parts/Aero/fairings/fairings_diff_grey
			}
			EXTRA_INFO
			{
				FairingsTextureURL = Squad/Parts/Aero/fairings/fairings_diff_grey
				FairingsNormalURL = Squad/Parts/Aero/fairings/fairings_grey_normals
			}
		}
		VARIANT
		{
			name = Dark Grey
			displayName = #autoLOC_8007121
			themeName = GrayAndOrange
			themeName = GrayAndOrange
			primaryColor = #4c4f47
			secondaryColor = #f49841

			TEXTURE
			{
				materialName = FairingIconShell
				mainTextureURL = Squad/Parts/Aero/fairings/fairings_diff_orange
			}
			EXTRA_INFO
			{
				FairingsTextureURL = Squad/Parts/Aero/fairings/fairings_diff_orange
				FairingsNormalURL = Squad/Parts/Aero/fairings/fairings_orange_normals
			}
		}
	}
}
